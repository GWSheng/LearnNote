# Java基础知识

### 计算机语言

- 机器语言
  - 01010010101100101010
  - 0/1和电流的正负对应
  - 二进制和十进制之间有转换关系，计算2+3 先将2 ，+ ，3 的二进制计算出来，然后输入到电脑中进行计算
  - 打孔机，将二进制代码以打孔的方式记录到纸带上
- 低级语言
  - 汇编语言，是对二进制语言的抽象，但是也是专业认识才能看懂
- 高级语言
  - c 面向过程
  - c++ 面向过程+面向对象
  - java 面向对像
  - 。。。

### java简介

- java语言的简单性：
  - c/c++语言中存在指针的概念，程序员可以通过指针直接去操控内存，需要程序员技术精湛
  - java语言中屏蔽了指针的概念，java程序员不能直接操作指针，所有的java程序是运行在java虚拟机上的，，java虚拟机执行过程中在去操作内存。

- 健壮性
  - 主要是因为java有一种机制：自动垃圾回收机制（GC机制，garbage collection）
  - java 程序产生在内存中的垃圾，由jvm定时负责回收，无需程序员考虑，不易导致内存泄漏
  - C/C++这种语言需要程序员手动去进行垃圾回收，使用不当很容易造成内存泄漏
  - java的垃圾回收机制：
    - 详细的机制会后续扩展
    - 现在知道自动垃圾回收会定时或垃圾满一定量的时候才去回收，不是立即回收。
  - 当然健壮性还有其他很多原因，GC只是比较重要的一部分。。。

- 可移植性/跨平台
  - java代码一次编写，处处运行。可以在windows，linux,mac等系统上运行。
  - 可移植性的原理是：
    - 任何系统要运行java程序必须安装jvm，java程序运行在jvm中，不是直接运行在操作系统上
    - jvm是区分操作系统的，不同操作系统安装不同版本的 jvm，所以是jvm帮java程序解决了不同系统之间的兼容性问题，不同版本的jvm底层原理是一样的，java程序可以运行在不同版本的jvm中
    - 安装jdk后，就有了jvm
  - 缺点：要运行java程序，必须安装jvm

- jdk、jre、jvm

  上面讲的jvm安装是不准确的。下面将大体介绍一下：

  - jdk：java development kit        java开发工具箱
  - jre:   java runtime environment     java运行时环境
  - jvm：java virtual machine  java虚拟机

  - jdk和jre这两个可以独立安装，jvm不能独立安装
  - 安装jdk之后， 会自动安装jre，jre里面包括jvm。安装jdk之后，jre和jvm全都有了。
    - 安装jdk之后，就可以开发java程序了
  - jre可以独立安装，不装jdk，只装jre。安装jre之后，就有了jvm。
    - 安装jre之后，就可以运行java程序了
    - 客户的电脑想要运行java程序，无需安装jdk，只安装jre即可
  - jvm 不能独立安装。
  - jdk和jre是区分操作系统的，所以可以对应不同的jvm

- java的加载与执行（简单介绍）

  java代码的执行分为两个阶段，一个是编译阶段，一个是运行阶段

  - 编译阶段：将编写的java代码（java源代码），通过javac命令编译成class文件（字节码文件）
    - 不同操作系统编译出来的字节码文件是一样的
  - 运行阶段：类加载器将编译好的字节码文件加载给jvm，jvm只识别处理字节码文件，jvm对加载的字节码文件继续处理，生成对应的二进制文件，并交给操作系统进行处理，从而实现java代码的运行

### 配置环境变量path

- 作用：环境变量的作用：告诉windows去哪里找我要执行的这个命令。比如我直接在doc窗口中执行javac命令，目的是想让系统执行javac.exe这个程序，但是windows不知道去哪里找这个javac.exe程序，就会报错，所以需要我们配置环境变量，告诉系统我们要执行的这个程序在哪文件夹下面，你去找吧。
- 分类：环境变量分为用户环境变量和系统环境变量
  - 用户环境变量：针对电脑当前登录的用户有效，切换到别的用户就不生效了
  - 系统环境变量：针对电脑所有用户生效。当在用户环境变量中没有找到要运行的程序时，会去系统环境变量中去找。
- 上面提到编译java文件需要javac.exe程序，运行字节码文件需要java.exe程序，当我们直接在doc窗口中执行javac和java命令时，操作系统找不到这两个程序，所以需要我们去配置环境变量
- 将javac.exe和java.exe两个程序所在的文件夹路径配置到系统环境变量或用户环境变量中即可

### 环境变量classpath

- classpath是jdk提供的一个环境变量，与操作系统无关，classpath的作用就是给类加载器指路的，让类加载器去classpath配置的路径中去找字节码文件。
- 不配置classpath的话，执行java命令回默认在当前路径下寻找类名对应的字节码文件，如果配置了classpath，就不会在当前路径下找字节码文件，而是去配置的路径下去找。
- classpath可以配置多个值，可以指定多个路径。此外值“.”代表会在当前路径下找对应字节码文件

### 环境变量JAVA_HOME

- 方便引用，JAVA_HOME配置的路径是jdk的安装目录，如果其他变量想使用jdk的路径可以直接使用%JAVA_HOME%,而不用写jdk安装目录的绝对路径了，一个是减少了路径的输入量，更简短了，另一个是当jdk目录不得已换了路径时，只需修改JAVA_HOME的路径即可，无需修改其他变量的路径。

- 第三软件会引用JAVA_HOME变量，比如tomcat，需要有java环境才能使用，如果没有配置JAVA_HOME,tomcat将无法正常使用

### 运行java文件

- 先编译
  - javac  java源文件的路径（可以是绝对路径也可以是相对路劲）
  - javac 执行完会生成一个字节码文件，字节码文件的名就是类名

- 再运行
  - java 类名（不带.class后缀）
  - 没有配置classpath变量，必须在字节码文件的所在路径下执行java命令
  - 配置classpath变量后，在哪个路径下执行java命令都可以，类加载器都会去classpath配置的路径下面去找类名对应的字节码文件